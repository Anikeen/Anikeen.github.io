(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-88e217ea"],{"7a92":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"content-header"},[e("h1",{staticClass:"content-header__title"},[t._v(t._s(t.breadcrumbs.title)+" "+t._s(t.breadcrumbs.id))]),t.breadcrumbs.current?e("div",{staticClass:"breadcrumbs"},[e("router-link",{staticClass:"breadcrumbs__link",attrs:{to:"/admin"}},[e("i",{staticClass:"breadcrumbs__icon fas fa-home"}),t._v(" Главная ")]),t.breadcrumbs.parent?e("router-link",{staticClass:"breadcrumbs__link",attrs:{to:t.breadcrumbs.parentLink}},[t._v(" "+t._s(t.breadcrumbs.parent)+" ")]):t._e(),e("span",{staticClass:"breadcrumbs__current"},[t._v(" "+t._s(t.breadcrumbs.current)+" "+t._s(t.breadcrumbs.id)+" ")])],1):t._e()])},r=[],n={props:["breadcrumbs"]},i=n,c=e("2877"),l=Object(c["a"])(i,s,r,!1,null,null,null);a["a"]=l.exports},d416:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",[e("Breadcrumbs",{attrs:{breadcrumbs:t.breadcrumbs}}),t.products?e("div",{staticClass:"content-container"},[e("ProductsList",{attrs:{products:t.paginated}})],1):e("div",{staticClass:"no-items"},[t._v(" Нет добавленных товаров ")]),t.allItems.length>1?e("Paginate",{attrs:{"page-count":t.pageCount,"click-handler":t.paginationHandler,"prev-class":"pagination-toggle","prev-text":"<< Назад","next-class":"pagination-toggle","next-text":"Вперед >>","container-class":"pagination","page-class":"pagination-item"},model:{value:t.page,callback:function(a){t.page=a},expression:"page"}}):t._e(),t.loading?e("Loader"):t._e()],1)},r=[],n=e("5530"),i=(e("96cf"),e("1da1")),c=e("7a92"),l=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("table",{staticClass:"standart-table"},[e("thead",[e("tr",{staticClass:"standart-table__row"},t._l(t.tableHeaders,(function(a){return e("th",{key:a,staticClass:"standart-table__header"},[t._v(" "+t._s(a)+" ")])})),0)]),e("tbody",{staticClass:"standart-table__body"},t._l(t.products,(function(t){return e("ProductsListItem",{key:t.id,attrs:{prod:t}})})),1)])},o=[],u=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("tr",{class:"standart-table__row "+t.prodStatus},[e("td",{staticClass:"standart-table__cell"},[t._v(t._s(t.prod.id))]),e("td",{staticClass:"standart-table__cell"},[e("router-link",{staticClass:"standart-table__link",attrs:{title:"Редактировать",to:{name:"admin_edit_product",params:{id:t.prod.id}}}},[t._v(" "+t._s(t.prod.title)+" ")])],1),e("td",{staticClass:"standart-table__cell"},[t._v(t._s(t.prod.price))]),e("td",{staticClass:"standart-table__cell",class:t.prodStatus},[t._v(t._s(t.prodStatus))]),e("td",{staticClass:"standart-table__cell"},[e("router-link",{staticClass:"standart-table__link--view",attrs:{title:"Редактировать",to:{name:"admin_edit_product",params:{id:t.prod.id}}}},[e("i",{staticClass:"standart-table__icon fas fa-eye"})]),e("button",{staticClass:"standart-table__btn--change-status",attrs:{title:"Изменить статус",type:"button"},on:{click:function(a){return t.changeStatus({id:t.prod.key,status:!t.prod.status})}}},[e("i",{staticClass:"standart-table__icon fas fa-times"})]),e("button",{staticClass:"standart-table__btn--delete",attrs:{title:"Удалить из БД",type:"button"},on:{click:function(a){return t.deleteFromDB(t.prod.key)}}},[e("i",{staticClass:"standart-table__icon fas fa-times"})])],1)])},d=[],p=e("2f62"),b={props:["prod"],computed:{prodStatus:function(){return this.prod.status?"On":"Off"}},methods:Object(n["a"])({},Object(p["b"])(["deleteFromDB","changeStatus"]))},_=b,m=e("2877"),f=Object(m["a"])(_,u,d,!1,null,null,null),h=f.exports,g={components:{ProductsListItem:h},props:["products"],data:function(){return{tableHeaders:["ID","Наименование","Цена","Статус","Действие"]}}},v=g,C=Object(m["a"])(v,l,o,!1,null,null,null),k=C.exports,y=(e("99af"),e("fb6a"),{data:function(){return{page:+this.$route.query.page||1,pageSize:5,pageCount:0,allItems:[],paginated:[]}},methods:{setupPagination:function(t){for(var a=[],e=0;e<t.length;e+=this.pageSize)a.push(t.slice(e,e+this.pageSize));this.allItems=a,this.pageCount=this.allItems.length,this.paginated=this.allItems[this.page-1]||this.allItems[0]},paginationHandler:function(t){this.$router.push("".concat(this.$route.path,"?page=").concat(t)),this.paginated=this.allItems[t-1]||this.allItems[0]}}}),w={components:{ProductsList:k,Breadcrumbs:c["a"]},mixins:[y],metaInfo:function(){return{title:this.$title("Товары")}},data:function(){return{loading:!0,breadcrumbs:{title:"Список товаров",current:"Список товаров"}}},mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.fetchProducts();case 2:t.setupPagination(t.products),t.loading=!1;case 4:case"end":return a.stop()}}),a)})))()},computed:Object(n["a"])({},Object(p["c"])(["products"]),{error:function(){return this.$store.getters.error},success:function(){return this.$store.getters.success}}),watch:{error:function(t){this.$error(t)},success:function(t){this.$success(t)}},methods:Object(n["a"])({},Object(p["b"])(["fetchProducts"]))},O=w,x=Object(m["a"])(O,s,r,!1,null,null,null);a["default"]=x.exports},fb6a:function(t,a,e){"use strict";var s=e("23e7"),r=e("861d"),n=e("e8b5"),i=e("23cb"),c=e("50c4"),l=e("fc6a"),o=e("8418"),u=e("b622"),d=e("1dde"),p=e("ae40"),b=d("slice"),_=p("slice",{ACCESSORS:!0,0:0,1:2}),m=u("species"),f=[].slice,h=Math.max;s({target:"Array",proto:!0,forced:!b||!_},{slice:function(t,a){var e,s,u,d=l(this),p=c(d.length),b=i(t,p),_=i(void 0===a?p:a,p);if(n(d)&&(e=d.constructor,"function"!=typeof e||e!==Array&&!n(e.prototype)?r(e)&&(e=e[m],null===e&&(e=void 0)):e=void 0,e===Array||void 0===e))return f.call(d,b,_);for(s=new(void 0===e?Array:e)(h(_-b,0)),u=0;b<_;b++,u++)b in d&&o(s,u,d[b]);return s.length=u,s}})}}]);
//# sourceMappingURL=chunk-88e217ea.10f1076c.js.map